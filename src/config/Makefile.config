.PRECIOUS: %.o
.SUFFIXES:
.PHONY: all

.SUFFIXES: .o .F .f .c .C .cc .cxx .F90

.F90.o:
	$(FC) $(FCFLAGS) -c $< -o $@
.F.o:
	$(F77) $(FFLAGS) -c $< -o $@
.f.o:
	$(F77) $(FFLAGS) -c $< -o $@
.cc.o:
	$(CC) $(CFLAGS) $(CPPFLAGS) -c $< -o $@
.cxx.o:
	$(CXX) $(CFLAGS) $(CPPFLAGS) -c $< -o $@

SHELL         = /bin/sh


ELM_DATA_LOCATION		= /Users/uec/codes/elm/kernels/repos/ELM_Kernels/repos/acme_inputdata

ELM_LIB				= libelm.a
ELM_LIBS                        = -lelm
ELM_DIR                         = elm
ELM_LIB_DEPEND                  = $(PARFLOW_LIB_DIR)/libelm.a

NETCDF_ROOT                     = /Users/uec/codes/ats/amanzi-tpls/install-0.88
STD_LIB_ROOT			= /usr

ELM_UTILS_DIR = cime_utils

LIB_SUFFIX=.a

M4	      =	
RM            = rm -fr
CP            = cp
XARGS	      = 

FC            = gfortran
FCFLAGS       = -Wall -Wunused -fimplicit-none -free -g3 -fbounds-check
#FCFLAGS       = -Wall -Wunused -fimplicit-none -free -O3

CC	      = clang++
CPPFLAGS      = -g -Wall -std=c++11

LINKER        = gfortran

AR	      = ar

######################################################################
# Rules used in all directories.
######################################################################

ELM_CLEAN=$(RM) *.o *.ii *.int.c *.log *.log.* stamp-* core core.* stats -r ti_files ii_files *.mod *.a

%.o : %.F90
	@echo "found the right .o rule"
	$(FC) -c $(FCFLAGS) $< -o $@


